# 金融数据分析平台

这是一个基于Streamlit和akshare的多页面金融数据分析平台，包含期权分析、ETF技术分析和ETF对比分析功能。

## 功能特性

### 📊 期权分析页面
- **实时数据获取**: 使用akshare接口获取期权数据
- **多种图表展示**: 价格走势、涨跌幅分布、成交量分析
- **数据筛选**: 按期权类型、价格范围筛选数据
- **详细统计**: 看涨/看跌期权统计分析
- **风险指标分析**: 希腊字母和隐含波动率分析
- **数据关联**: 期权数据与风险指标数据关联分析
- **数据导出**: 支持CSV格式数据下载

### 📈 ETF技术分析页面
- **多ETF支持**: 科创50ETF、中证500ETF、上证50ETF、创业板ETF、沪深300ETF、深证100ETF
- **技术指标**: MA5/MA10/MA20均线、MACD、RSI、布林带
- **信号分析**: 均线金叉死叉、多头排列、MACD金叉分析
- **可视化图表**: K线图、MACD图、成交量图
- **实时分析**: 自动分析技术信号和投资建议

### 📊 ETF对比分析页面
- **多ETF对比**: 同时分析多个ETF的技术指标
- **相对收益率**: 对比不同ETF的相对表现
- **信号热力图**: 直观显示各ETF的技术信号状态
- **综合评分**: 基于技术指标的综合评分排名
- **批量分析**: 一次性分析多个ETF的投资机会

## 安装和运行

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 运行应用

**方法一：使用启动脚本（推荐）**
```bash
python run_app.py
```

**方法二：直接运行Streamlit**
```bash
streamlit run app.py
```

### 3. 访问应用

在浏览器中打开 `http://localhost:8501`

### 4. 页面导航

- **期权分析**: 主页面，包含期权数据和风险指标分析
- **ETF技术分析**: `/etf_analysis` - 单个ETF的详细技术分析
- **ETF对比分析**: `/etf_comparison` - 多个ETF的对比分析

## 使用说明

### 📊 期权分析页面
1. **选择期权标的**: 在侧边栏选择要分析的期权标的
2. **设置到期月份**: 输入到期月份（格式：YYMM，如2212）
3. **选择风险指标日期**: 选择要分析的风险指标日期
4. **数据筛选**: 可以按期权类型和价格范围筛选数据
5. **图表分析**: 选择不同的图表类型进行可视化分析
6. **关联分析**: 查看期权数据与风险指标的关联分析
7. **数据下载**: 可以将筛选后的数据导出为CSV文件

### 📈 ETF技术分析页面
1. **选择ETF标的**: 选择要分析的ETF（科创50ETF、中证500ETF等）
2. **设置分析周期**: 选择日线、周线或月线数据
3. **调整历史天数**: 设置要分析的历史数据天数
4. **查看技术信号**: 自动分析均线、MACD、RSI等技术指标
5. **图表分析**: 查看K线图、MACD图、成交量图
6. **信号解读**: 查看详细的技术信号分析结果

### 📊 ETF对比分析页面
1. **选择对比ETF**: 选择要对比的多个ETF标的
2. **设置分析参数**: 调整历史数据天数和分析周期
3. **查看对比结果**: 查看各ETF的综合评分和排名
4. **信号热力图**: 直观对比各ETF的技术信号状态
5. **相对收益率**: 对比不同ETF的相对表现
6. **批量下载**: 下载所有ETF的对比分析数据

## 支持的期权标的

- 华泰柏瑞沪深300ETF期权
- 华夏上证50ETF期权
- 嘉实沪深300ETF期权

## 技术栈

- **Streamlit**: Web应用框架
- **akshare**: 金融数据接口
- **pandas**: 数据处理
- **plotly**: 交互式图表
- **numpy**: 数值计算

## 风险指标说明

- **Delta**: 期权价格对标的价格变化的敏感度
- **Gamma**: Delta对标的价格变化的敏感度
- **Theta**: 期权价格对时间衰减的敏感度
- **Vega**: 期权价格对隐含波动率变化的敏感度
- **Rho**: 期权价格对利率变化的敏感度
- **隐含波动率**: 市场对未来波动率的预期

## 注意事项

- 确保网络连接正常，akshare需要访问外部API
- 数据更新可能有延迟，建议定期刷新
- 某些期权标的可能没有数据，请尝试其他标的或月份
- 风险指标数据从2015年2月9日开始，请选择有效日期
- 风险指标数据为交易日数据，非交易日无法获取
